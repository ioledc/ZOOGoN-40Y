% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ingestion-surveys.R
\name{ingest_surveys}
\alias{ingest_surveys}
\title{Download MC Surveys from Kobotoolbox}
\usage{
ingest_surveys()
}
\value{
Invisible NULL. Function downloads data, processes it, and uploads to Google Cloud Storage.
}
\description{
This function retrieves MC survey data from Kobotoolbox, processes it,
and uploads the raw data to Google Cloud Storage as Parquet files. It uses the
\code{get_kobo_data} function to retrieve survey submissions via the Kobotoolbox API.
}
\details{
The function performs the following steps:
\enumerate{
\item Reads configuration settings from config.yml
\item Downloads survey data from Kobotoolbox using \code{get_kobo_data}
\item Checks for uniqueness of submissions
\item Flattens nested JSON data to tabular format
\item Uploads raw data as versioned Parquet file to Google Cloud Storage
}
}
\note{
The function uses configuration values from config.yml:
\itemize{
\item Hardcoded URL: "eu.kobotoolbox.org"
\item Hardcoded encoding: "UTF-8"
\item Configuration values for: asset_id, username, password (shared with Lurio)
\item GCS bucket and credentials from configuration
}
}
\examples{
\dontrun{
ingest_surveys()
}
}
\keyword{ingestion}
\keyword{workflow}
